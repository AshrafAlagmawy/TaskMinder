<section class="bg-main-light shadow my-5 p-3 rounded-4 w-50 m-auto">
  <h2 class="text-center text-2xl font-semibold text-indigo-600 mb-6">Login Now</h2>

  <form action="" [formGroup]="loginForm">
    <div class="my-3">
      <label for="email" class="mb-2">Email</label>
      <input
        placeholder="Enter Your Email"
        type="email"
        class="form-control"
        id="email"
        formControlName="email"
      />
      @if(isFieldValid("email")){
      <div class="alert alert-danger w-auto m-2 p-2">
        @if(hasError("email","required")){
        <p class="m-0">Email is required</p>
        }@else if(hasError("email","email")){
        <p class="m-0">Enter valid email</p>
        }
      </div>
      }
    </div>

    <div class="my-3">
      <label for="password" class="mb-2">Password</label>
      <input
        placeholder="Enter Your Password"
        type="password"
        class="form-control"
        id="password"
        formControlName="password"
      />
      @if(isFieldValid("password")){
      <div class="alert alert-danger w-auto m-2 p-2">
        @if(hasError("password","required")){
        <p class="m-0">Password is required</p>
        }@else if(hasError("password","pattern")){
        <p class="m-0">Enter valid password</p>
        }
      </div>
      }
    </div>

    <div class="d-flex justify-content-end ms-auto gap-2">
      <button routerLink="/register" type="submit" class="btn d-block">
        Register @if(isLoading){
        <span><i class="fas fa-spin fa-spinner"></i></span>
        }
      </button>

      <button
        [disabled]="loginForm.invalid || isLoading"
        routerLink="/tasks"
        type="submit"
        class="btn d-block"
      >
        Login @if(isLoading){
        <span><i class="fas fa-spin fa-spinner"></i></span>
        }
      </button>
    </div>
  </form>
</section>
